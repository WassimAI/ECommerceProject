@model IEnumerable<ECommerceProject.Models.ViewModels.ProductVM>


@{
    //int count = Model.Count();
    int count = 0;
}

<div class="heading-primary">Our Products</div>

<div class="product">
    <!--Dynamic rows & columns-->
    @foreach (var item in Model)
    {
        if ((count % 4) == 0)
        {
            @:<div class="row">
        }

        <div class="col-1-of-4 product__col">
            <div class="product__container">
                <div class="row product__row">
                    @if (item.isNew)
                    {
                        <span class="product__tag">NEW</span>
                    }
                    <a href="#" class="product__link" data-id="@item.Id"><img class="product__img" src="~/Images/Uploads/Products/@item.Id/@item.ImageUrl" alt="prod-image" /></a>
                </div>
                <div class="row"><div class="product__title">@item.Title</div></div>
                <div class="row"><div class="product__description">@item.summaryDescription</div></div>
                <div class="row">
                    <div class="product__priceWrapper">
                        @if (!item.isOnSale)
                        {
                            <div class="product__price product__price--show">$ @item.oldPrice</div>
                        }
                        else
                        {
                            <div class="product__price product__price--hide">$ @item.oldPrice</div>
                            <div class="product__discount product__discount--show">
                                <span class="product__discount--text">Now at</span>
                                <div class="product__discount--old">$ @item.oldPrice</div>
                                <div class="product__discount--new">$ @item.newPrice</div>
                            </div>
                        }

                    </div>
                </div>
                <div class="product__buy u-margin-top-small">
                    <a href="#" class="btn btn--cart">Add to Cart</a>
                </div>
            </div>
        </div>

        if (count == 3)
        {
            count = 0;
            @:</div>
        }
        else
        {
            count++;
        }
    }

</div>




